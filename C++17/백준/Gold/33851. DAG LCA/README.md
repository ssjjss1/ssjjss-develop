# [Gold V] DAG LCA - 33851 

[문제 링크](https://www.acmicpc.net/problem/33851) 

### 성능 요약

메모리: 2204 KB, 시간: 16 ms

### 분류

그래프 이론, 그래프 탐색, 너비 우선 탐색

### 제출 일자

2025년 5월 14일 10:53:05

### 문제 설명

<p><strong>무가중치 방향 비순환 그래프</strong> $G$가 주어진다. 다음 쿼리를 수행하는 프로그램을 작성하시오.</p>

<ul>
	<li>$u$ $v$: 두 정점 $u$와 $v$로 가는 경로가 모두 존재하는 모든 정점에 대해 $u$와 $v$로 가는 두 최단 경로의 길이 중 작지 않은 값의 최솟값을 출력한다. 두 정점 $u$와 $v$로 가는 경로가 존재하는 정점이 없다면 대신 <code><span style="color:#e74c3c;">-1</span></code>을 출력한다.</li>
</ul>

### 입력 

 <p>첫 번째 줄에 그래프 $G$의 정점의 개수 $n$, 간선의 개수 $m$, 질의의 개수 $q$가 공백으로 구분되어 주어진다. ($5 \leq n \leq 2\,000; 0 \leq m \leq 4\,000; 1 \leq q \leq 1\,000$)</p>

<p>두 번째 줄부터 $m$개의 줄에 걸쳐 간선으로 연결된 두 정점의 번호 $u$, $v$가 한 줄에 하나씩 주어진다. 이는 $u$에서 $v$로 향하는 방향의 간선을 의미한다. ($1 \leq u, v \leq n; u \neq v$)</p>

<p>$m+2$번째 줄부터 $q$개의 줄에 걸쳐 쿼리가 한 줄에 하나씩 주어진다.</p>

<p>입력으로 주어지는 값은 모두 정수이며 무가중치 방향 비순환 그래프인 경우만 주어진다.</p>

### 출력 

 <p>쿼리가 주어질 때마다 쿼리의 답을 한 줄에 하나씩 출력한다.</p>

